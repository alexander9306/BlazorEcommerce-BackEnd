@page "/ordenes/editar/{OrdenId}"
@page "/ordenes/editar"

<main>
    <div class="container-fluid">
        <h1 class="mt-4">Ordenes</h1>
        <ol class="breadcrumb mb-4">
            <li class="breadcrumb-item active">Admin / Ordenes / Editar </li>
        </ol>

        <div class="card mb-4">
            <div class="card-header">
                <i class="fas fa-table mr-1"></i>
                Ordenes
            </div>
            <div class="card-body">
                @if (!Saved)
                 {
                    <EditForm Model="@Orden" OnValidSubmit="@HandleValidSubmit">
                        <DataAnnotationsValidator />
                        <ValidationSummary />
                        <div class="form-group row">
                            <label for="Cliente" class="col-sm-3">Cliente: </label>
                            <InputSelect id="Cliente" class="form-control col-sm-8" @bind-Value="@ClienteId">
                                @if (Clientes != null)
                                 {
                                    @foreach (var cliente in Clientes)
                                     {
                                        <option value="@cliente.Id">@cliente.Email</option>
                                     }
                                 /**/
                                 /**/
                                 /**/
                                 }
                            </InputSelect>
                        </div>
                        <div class="form-group row">
                            <label for="direccion" class="col-sm-3">Direccion: </label>
                            <InputText id="direccion" class="form-control col-sm-8" @bind-Value="@Orden.Direccion" placeholder="direccion"></InputText>
                        </div>
                        <div class="form-group row">
                            <label for="latitud" class="col-sm-3">Latitud: </label>
                            <InputText id="latitud" class="form-control col-sm-8" @bind-Value="@Orden.Latitud.ToString()" placeholder="latitud"></InputText>
                        </div>
                        <div class="form-group row">
                            <label for="longitud" class="col-sm-3">Longitud: </label>
                            <InputText id="longitud" class="form-control col-sm-8" @bind-Value="@Orden.Longitud.ToString()" placeholder="longitud"></InputText>
                        </div>
                        <div class="form-group row">
                            <label for="telefono" class="col-sm-3">Telefono: </label>
                            <InputNumber id="telefono" class="form-control col-sm-8" @bind-Value="@Orden.Telefono" placeholder="telefono"></InputNumber>
                        </div>

                        <button type="submit" class="btn btn-primary edit-btn">Guardar</button>
                            <a class="btn btn-outline-primary edit-outline-btn" @onclick="@NavigateToInfo">Cancelar</a>

                        @if (Alert != null)
                         {
                            <ShowAlert Message="@Alert.Message" Type="@Alert.Type" />
                         }
                    </EditForm>
                 }
                 else
                 {
                    <ShowAlert Message="@Alert.Message" Type="@Alert.Type" />
                    <a class="btn btn-outline-primary" @onclick="@NavigateToInfo">Regresar</a>
                 }
            </div>
        </div>

    </div>
</main>